# 로또 번호 분석 및 추천 서비스 PRD (v1.3)

## 1. 개요 및 비전
역대 당첨 데이터를 다각도로 분석하여 사용자에게 과학적인 번호 조합 근거를 제시하는 웹 애플리케이션.

## 2. 주요 분석 지표 (Unique Value)
- **Time-Window 매칭**: 단순히 직전 회차만 보는 것이 아니라 최근 2, 3개 회차의 합집합과 현재 번호가 얼마나 중복되는지 분석.
- **다단계 구간 분석**: 3/5/9/15개 단위의 촘촘한 구간 분석을 통해 번호 쏠림 현상 방지.
- **실시간 등급 시스템**: 번호 생성 즉시 역대 당첨 확률 분포에 기반한 종합 등급(A~D) 제시.

## 3. 기능 요구사항
- **분석 대시보드**: 항목별(3배수, 소수, 이월 등) 출현 빈도를 차트와 미니 테이블로 제공.
- **히스토리 추적**: 최근 회차들의 통계 지표를 수치로 직접 확인.
- **이용 가이드**: 각 지표의 확률적 의미와 최적 범위를 안내.

---

# GEMINI.md - AI Coding Constitution

## [CRITICAL RULES]
1. **Source of Truth**: `analyze_data.py`가 생성하는 JSON 키를 맹신할 것. 필드명이 다를 경우 반드시 Python 코드를 먼저 확인할 것.
2. **Naming Convention**: 
    - 윈도우 매칭: `period_1`, `period_1_2`, `period_1_3`.
    - 구간 분할: `bucket_15` (3분할), `bucket_9` (5분할), `bucket_5` (9분할), `bucket_3` (15분할).
3. **Data Handling**: 프론트엔드에서 `null`이나 `undefined` 발생 시 기본값(`-` 또는 `0`)을 할당하여 렌더링 중단을 방지할 것.
4. **Grading Logic**: `main.js`와 `combination.js`의 채점 로직은 항상 동일하게 유지할 것.
